def get_maze_answer(maze : dict) -> list:

    (x,y) = (0,0)
    path = [] # 최적의 path를 기록.
    path_stack = [] # 거쳤던 모든 path를 기록.
    
    for max_x,max_y in maze.keys(): # maze의 key는 모든 블록의 좌표값
        if max_x > x:
            x = max_x
        if max_y > y:
            y = max_y
    path.append((x,y)) # 시작점 기록
    path_stack.append((x,y)) 
    
    while (x,y) != (1,1): # 끝점에 도달하지 않았다. '1'로 갈수 있는 상태임과 동시에 path_stack에 저장되어 있지않는 처음가는 길이면 이동한다.
        if maze[(x,y)]['S'] == 1 and (x+1, y) not in path_stack: # (x+1인 이유는 예상경로이기때문입니다.)
            x += 1
            path.append((x,y)) # path와 path_stack에 x,y 경로 추가!
            path_stack.append((x,y))
        elif maze[(x,y)]['N'] == 1 and (x-1, y) not in path_stack:
            x -= 1
            path.append((x,y)) 
            path_stack.append((x,y))
        elif maze[(x,y)]['E'] == 1 and (x, y+1) not in path_stack:
            y += 1
            path.append((x,y)) 
            path_stack.append((x,y))    
        elif maze[(x,y)]['W'] == 1 and (x, y-1) not in path_stack:
            y -= 1
            path.append((x,y)) 
            path_stack.append((x,y))
        else :  # 한번 갔었던 경로 였다면
            path.pop() 
            (x,y) = path[-1] # 전 위치로 돌아가기
            
    return path

maze1 = {(1, 1): {'E': 1, 'W': 0, 'N': 0, 'S': 0}, (2, 1): {'E': 0, 'W': 0, 'N': 0, 'S': 1}, (3, 1): {'E': 0, 'W': 0, 'N': 1, 'S': 1}, (4, 1): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (5, 1): {'E': 1, 'W': 0, 'N': 1, 'S': 0}, (1, 2): {'E': 0, 'W': 1, 'N': 0, 'S': 1}, (2, 2): {'E': 1, 'W': 0, 'N': 1, 'S': 0}, (3, 2): {'E': 1, 'W': 0, 'N': 0, 'S': 1}, (4, 2): {'E': 1, 'W': 0, 'N': 1, 'S': 0},
                (5, 2): {'E': 1, 'W': 1, 'N': 0, 'S': 0}, (1, 3): {'E': 1, 'W': 0, 'N': 0, 'S': 0}, (2, 3): {'E': 1, 'W': 1, 'N': 0, 'S': 0},
                (3, 3): {'E': 1, 'W': 1, 'N': 0, 'S': 0}, (4, 3): {'E': 1, 'W': 1, 'N': 0, 'S': 0}, (5, 3): {'E': 1, 'W': 1, 'N': 0, 'S': 0}, (1, 4): {'E': 1, 'W': 1, 'N': 0, 'S': 0},
                (2, 4): {'E': 1, 'W': 1, 'N': 0, 'S': 0}, (3, 4): {'E': 1, 'W': 1, 'N': 0, 'S': 0}, (4, 4): {'E': 0, 'W': 1, 'N': 0, 'S': 1}, (5, 4): {'E': 1, 'W': 1, 'N': 1, 'S': 0}, (1, 5): {'E': 0, 'W': 1, 'N': 0, 'S': 1}, (2, 5): {'E': 0, 'W': 1, 'N': 1, 'S': 1}, (3, 5): {'E': 0, 'W': 1, 'N': 1, 'S': 0},
                (4, 5): {'E': 0, 'W': 0, 'N': 0, 'S': 1}, (5, 5): {'E': 0, 'W': 1, 'N': 1, 'S': 0}}
solution1 = [(5, 5),  (5, 4), (4, 4), (4, 3), (4, 2), (3, 2), (3, 3), (3, 4), (3, 5), (2, 5), (2, 4), (2, 3), (2, 2), (1, 2), (1, 1)]

maze2 = {(1, 1): {'E': 0, 'W': 0, 'N': 0, 'S': 1},
                (2, 1): {'E': 1, 'W': 0, 'N': 1, 'S': 0},
                (3, 1): {'E': 1, 'W': 0, 'N': 0, 'S': 0},
                (1, 2): {'E': 1, 'W': 0, 'N': 0, 'S': 0},
                (2, 2): {'E': 0, 'W': 1, 'N': 0, 'S': 1},
                (3, 2): {'E': 1, 'W': 1, 'N': 1, 'S': 0},
                (1, 3): {'E': 0, 'W': 1, 'N': 0, 'S': 1},
                (2, 3): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (3, 3): {'E': 0, 'W': 1, 'N': 1, 'S': 0}}
solution2 = [(3, 3), (3, 2), (2, 2), (2, 1), (1, 1)]

maze3 = {(1, 1): {'E': 1, 'W': 0, 'N': 0, 'S': 1},
                (2, 1): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (3, 1): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (4, 1): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (5, 1): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (6, 1): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (7, 1): {'E': 1, 'W': 0, 'N': 1, 'S': 0},
                (1, 2): {'E': 1, 'W': 1, 'N': 0, 'S': 0},
                (2, 2): {'E': 0, 'W': 0, 'N': 0, 'S': 1},
                (3, 2): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (4, 2): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (5, 2): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (6, 2): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (7, 2): {'E': 0, 'W': 1, 'N': 1, 'S': 0},
                (1, 3): {'E': 0, 'W': 1, 'N': 0, 'S': 1},
                (2, 3): {'E': 1, 'W': 0, 'N': 1, 'S': 0},
                (3, 3): {'E': 1, 'W': 0, 'N': 0, 'S': 1},
                (4, 3): {'E': 1, 'W': 0, 'N': 1, 'S': 0},
                (5, 3): {'E': 0, 'W': 0, 'N': 0, 'S': 1},
                (6, 3): {'E': 1, 'W': 0, 'N': 1, 'S': 1},
                (7, 3): {'E': 1, 'W': 0, 'N': 1, 'S': 0},
                (1, 4): {'E': 1, 'W': 0, 'N': 0, 'S': 0},
                (2, 4): {'E': 1, 'W': 1, 'N': 0, 'S': 0},
                (3, 4): {'E': 1, 'W': 1, 'N': 0, 'S': 0},
                (4, 4): {'E': 0, 'W': 1, 'N': 0, 'S': 1},
                (5, 4): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (6, 4): {'E': 0, 'W': 1, 'N': 1, 'S': 0},
                (7, 4): {'E': 1, 'W': 1, 'N': 0, 'S': 0},
                (1, 5): {'E': 0, 'W': 1, 'N': 0, 'S': 1},
                (2, 5): {'E': 0, 'W': 1, 'N': 1, 'S': 1},
                (3, 5): {'E': 0, 'W': 1, 'N': 1, 'S': 0},
                (4, 5): {'E': 0, 'W': 0, 'N': 0, 'S': 1},
                (5, 5): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (6, 5): {'E': 0, 'W': 0, 'N': 1, 'S': 1},
                (7, 5): {'E': 0, 'W': 1, 'N': 1, 'S': 0}}
solution3 = [(7, 5), (7, 4), (7, 3), (6, 3), (6, 4), (5, 4), (4, 4), (4, 3), (3, 3), (3, 4), (3, 5), (2, 5), (2, 4), (2, 3), (1, 3), (1, 2), (1, 1)]
# 예시인 solution 3에 오타가 있는것 같아서 수정했습니다!
print(get_maze_answer(maze1))
print(get_maze_answer(maze2))
print(get_maze_answer(maze3))